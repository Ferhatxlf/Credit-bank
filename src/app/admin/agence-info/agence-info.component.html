<!-- Import the material icons style in your global styles (styles.css) -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- agence-info.component.html -->
<div class="container mx-auto p-4">
    <h2 class="text-2xl font-bold mb-4">Dossiers for Agence: {{ dossiers[0]?.assignedagence.nom }}</h2>
    <div class="overflow-x-auto overflow-y-auto">
        <table class="min-w-full border border-gray-300">
            <thead>
                <!-- Header columns -->
                <tr>
                    <th class="px-4 py-2 border-b">ID</th>
                    <th class="px-4 py-2 border-b">Client</th>
                    <th class="px-4 py-2 border-b">Type Credit</th>
                    <th class="px-4 py-2 border-b">Montant Habitation</th>
                    <th class="px-4 py-2 border-b">Revenue Emprunteur</th>
                    <th class="px-4 py-2 border-b">Age Emprunteur</th>
                    <th class="px-4 py-2 border-b">Status</th>
                    <th class="px-4 py-2 border-b">Actions</th> <!-- New column for the eye icon -->
                </tr>
            </thead>
            <tbody>
                <!-- Loop through dossiers and display information in rows -->
                <tr *ngFor="let dossier of dossiers">
                    <td class="px-4 py-2 border-b">{{ dossier.id }}</td>
                    <td class="px-4 py-2 border-b">{{ dossier.client?.nom }}</td>
                    <td class="px-4 py-2 border-b">{{ dossier.typeCredit?.nom }}</td>
                    <td class="px-4 py-2 border-b">{{ dossier.montantHabitation }}</td>
                    <td class="px-4 py-2 border-b">{{ dossier.revenueEmprunteur }}</td>
                    <td class="px-4 py-2 border-b">{{ dossier.ageEmprunteur }}</td>
                    <td class="px-4 py-2 border-b">{{ dossier.status }}</td>
                    <td class="px-4 py-2 border-b">
                      <span class="material-icons"  (click)="openModal(dossier)"  style="cursor: pointer;">
                        visibility
                      </span>
                    </td>
                </tr>
            </tbody>
        </table>
     <!-- agence-info.component.html -->
<div *ngIf="selectedDossier" class="fixed inset-0 z-10 flex items-center justify-center" (click)="closeModal()">
  <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
  <div class="relative z-20 bg-white p-6 rounded shadow-lg" (click)="stopPropagation($event)">
      <span class="absolute top-0 right-0 p-4 cursor-pointer" (click)="closeModal()">&times;</span>
      <h2 class="text-2xl mb-4">Dossier Actions for {{ selectedDossier.nomDossier }}</h2>
      <ul>
          <li *ngFor="let action of selectedDossier.actions">
              {{ action.status }} - {{ action.actionDate | date:'medium' }}
          </li>
      </ul>
  </div>
</div>

      
    </div>
   
</div>
